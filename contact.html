<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Contact Us</title>
        <!-- Tailwind CSS for styling -->
        <script src="https://cdn.tailwindcss.com"></script>
        <!-- Google Fonts: Inter -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <style>
            body {
                font-family: "Inter", sans-serif;
            }
        </style>
    </head>
    <body class="bg-gray-100">
        <div class="container mx-auto max-w-xl p-4 sm:p-6 lg:p-8">
            <div
                id="contact-form-container"
                class="bg-white p-8 rounded-2xl shadow-lg transition-all duration-500"
            >
                <h1 class="text-3xl font-bold text-gray-800 mb-2">
                    Get in Touch
                </h1>
                <p class="text-gray-600 mb-8">
                    We'd love to hear from you. Please fill out the form below.
                </p>

                <form id="contactForm">
                    <!-- Name Field -->
                    <div class="mb-6">
                        <label
                            for="name"
                            class="block text-gray-700 text-sm font-semibold mb-2"
                            >Full Name</label
                        >
                        <input
                            type="text"
                            id="name"
                            name="name"
                            class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"
                            placeholder="John Doe"
                            required
                        />
                    </div>

                    <!-- Email Field -->
                    <div class="mb-6">
                        <label
                            for="email"
                            class="block text-gray-700 text-sm font-semibold mb-2"
                            >Email Address</label
                        >
                        <input
                            type="email"
                            id="email"
                            name="email"
                            class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"
                            placeholder="you@example.com"
                            required
                        />
                    </div>

                    <!-- Message Field -->
                    <div class="mb-8">
                        <label
                            for="message"
                            class="block text-gray-700 text-sm font-semibold mb-2"
                            >Message</label
                        >
                        <textarea
                            id="message"
                            name="message"
                            rows="5"
                            class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"
                            placeholder="Your message..."
                            required
                        ></textarea>
                    </div>

                    <!-- Submit Button -->
                    <div class="text-center">
                        <button
                            type="submit"
                            id="submit-button"
                            class="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform transform hover:scale-105"
                        >
                            <span id="button-text">Send Message</span>
                            <span id="button-loader" class="hidden">
                                <svg
                                    class="animate-spin h-5 w-5 mx-auto"
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                >
                                    <circle
                                        class="opacity-25"
                                        cx="12"
                                        cy="12"
                                        r="10"
                                        stroke="currentColor"
                                        stroke-width="4"
                                    ></circle>
                                    <path
                                        class="opacity-75"
                                        fill="currentColor"
                                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                                    ></path>
                                </svg>
                            </span>
                        </button>
                    </div>
                </form>
                <p
                    id="error-message"
                    class="text-red-500 mt-4 text-center hidden"
                >
                    Something went wrong. Please try again later.
                </p>
            </div>

            <!-- Success Message -->
            <div
                id="success-message"
                class="hidden text-center bg-white p-8 rounded-2xl shadow-lg transition-all duration-500"
            >
                <svg
                    class="w-16 h-16 mx-auto text-green-500"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                    ></path>
                </svg>
                <h2 class="text-2xl font-bold text-gray-800 mt-4">
                    Thank You!
                </h2>
                <p class="text-gray-600 mt-2">
                    Your message has been sent successfully. We'll get back to
                    you soon.
                </p>
            </div>
        </div>

        <script>
            const form = document.getElementById("contactForm");
            const submitButton = document.getElementById("submit-button");
            const buttonText = document.getElementById("button-text");
            const buttonLoader = document.getElementById("button-loader");
            const errorMessage = document.getElementById("error-message");
            const formContainer = document.getElementById(
                "contact-form-container",
            );
            const successMessage = document.getElementById("success-message");

            // IMPORTANT: Paste your Google Apps Script Web App URL here
            const GOOGLE_SCRIPT_URL =
                "https://script.google.com/macros/s/AKfycbx-oGEUoSJos9LHbmgCx-gELI2goAXeyFOjPWhvZvAfpOWsCc8QF9suIVnLB4mAq5K5Pg/exec";

            form.addEventListener("submit", async (e) => {
                e.preventDefault();

                // Check if the placeholder URL is still there
                if (GOOGLE_SCRIPT_URL === "PASTE_YOUR_WEB_APP_URL_HERE") {
                    errorMessage.textContent =
                        "Form is not connected. Please follow the setup instructions.";
                    errorMessage.classList.remove("hidden");
                    return;
                }

                // Show loading state
                buttonText.classList.add("hidden");
                buttonLoader.classList.remove("hidden");
                submitButton.disabled = true;
                errorMessage.classList.add("hidden");

                try {
                    const formData = new FormData(form);
                    const response = await fetch(GOOGLE_SCRIPT_URL, {
                        method: "POST",
                        body: formData,
                    });

                    if (response.ok) {
                        const result = await response.json();
                        if (result.result === "success") {
                            // Show success message and hide form
                            formContainer.classList.add(
                                "opacity-0",
                                "transform",
                                "scale-95",
                            );
                            setTimeout(() => {
                                formContainer.classList.add("hidden");
                                successMessage.classList.remove("hidden");
                                successMessage.classList.add(
                                    "opacity-100",
                                    "transform",
                                    "scale-100",
                                );
                            }, 500);
                            form.reset();
                        } else {
                            throw new Error("Submission failed on the server.");
                        }
                    } else {
                        throw new Error("Network response was not ok.");
                    }
                } catch (error) {
                    console.error("Error!", error.message);
                    errorMessage.textContent =
                        "Something went wrong. Please try again later.";
                    errorMessage.classList.remove("hidden");
                } finally {
                    // Restore button state
                    buttonText.classList.remove("hidden");
                    buttonLoader.classList.add("hidden");
                    submitButton.disabled = false;
                }
            });
        </script>
    </body>
</html>
